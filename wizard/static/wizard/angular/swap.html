<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-resource.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.12.0/ui-bootstrap-tpls.js"></script>
	<script src="swap_controller.js"></script>
	<script src="angular-multi-select.js"></script>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="angular-multi-select.css">
</head>

<body ng-app="swapApp" ng-controller="controller">
	<div class="searchForm">
	
		<label for="start_date">Start Date:</label>
		<p id="start_date" class="input-group">
			<input type="text" class="form-control" datepicker-popup="{{date_format}}" ng-model="start_date" is-open="date_pickers['start_date']" show-weeks="false" starting-day="1" />
			<span class="input-group-btn">
				<button type="button" class="btn btn-default" ng-click="open_date_picker($event, 'start_date')"><i class="glyphicon glyphicon-calendar"></i></button>
			</span>
		</p>
		
		<label for="end_date">End Date:</label>
		<p id="end_date" class="input-group">
			<input type="text" class="form-control" datepicker-popup="{{date_format}}" ng-model="end_date" is-open="date_pickers['end_date']" show-weeks="false" starting-day="1" />
			<span class="input-group-btn">
				<button type="button" class="btn btn-default" ng-click="open_date_picker($event, 'end_date')"><i class="glyphicon glyphicon-calendar"></i></button>
			</span>
		</p>
		
		
		<label for="tags">Tags:</label>
		<div
			id="tags"
			multi-select
			input-model="tags"
			button-label="name"
			item-label="name"
			tick-property="checked"
			helper-elements=""
			group-property="multiSelectGroup"
		>
		</div>
		<button ng-click="update_meta_datas()">Search</button>
	</div>
	<div class="searchResults">
		<table class="table">
			<tr>
				<th>Date Observation</th>
				<th>Tags</th>
			</tr>
			<tr ng-repeat="meta_data in meta_datas">
				<td>{{meta_data.date_obs}}</td>
				<td>{{meta_data.tags.join(', ')}}</td>
			</tr>
		</table>
		<div class="navigation">
		<button type="button" class="btn btn-default" ng-disabled="page==0" ng-click="load_page(0)"><i class="glyphicon glyphicon-fast-backward"></i></button>
		<button type="button" class="btn btn-default" ng-disabled="page==0" ng-click="load_page(page - 1)"><i class="glyphicon glyphicon-backward"></i></button>
		<button type="button" class="btn btn-default" ng-disabled="page==last_page" ng-click="load_page(page + 1)"><i class="glyphicon glyphicon-forward"></i></button>
		<button type="button" class="btn btn-default" ng-disabled="page==last_page" ng-click="load_page(last_page)"><i class="glyphicon glyphicon-fast-forward"></i></button>
		</div>
	</div>
</body>

</html>
