{% block content %}
{% load getattr %}
{% if dataset_list %}
<table class="search_results_table" summary="Search results"">
	<thead>
		<tr>
			<th></th><!-- checkbox column -->
			<th># Items</th>
			{% for keyword, header in table_columns.items %}
			<th>{{ header }}</th>
			{% endfor %}
			<th>Characteristics</th>
		</tr>
	</thead>
	<tbody>
		{% for dataset in dataset_list %}
		<tr class='clickable' href="{% url dataset.name|add:':search_data_form' %}">
			<td>
				<input type="checkbox" value="{{ data.id }}" name="data_id"></input>
			</td>
			<td>{{ dataset.item_count }}</td>
			{% for keyword, header in table_columns.items %}
			<td>{{ dataset|getattr:keyword }}</td>
			{% endfor %}
			<td>{{ dataset.characteristics_names|join:", " }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
{% elif message %}
<p>{{ message }}</p>
{% else %}
<p>Nothing correspond to your search criteria.</p>
{% endif %}

{% endblock %}

